{"version":3,"sources":["webpack:///./src/views/userViews/Order.vue","webpack:///./src/views/userViews/Order.vue?7967"],"names":["class","_createElementVNode","data-wow-delay","width","for","_createElementBlock","_hoisted_3","type","placeholder","$data","$event","onClick","$options","Object","keys","length","_toDisplayString","id","_ctx","getDate","create_at","is_paid","_hoisted_10","_Fragment","_renderList","products","item","index","key","product","title","qty","price","total","_hoisted_12","_hoisted_14","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_21","value","user","name","readonly","_hoisted_25","email","_hoisted_28","tel","_hoisted_31","address","_hoisted_34","rows","message","data","orderCode","orderInfo","methods","searchOrder","this","isLoading","api","$http","get","then","res","console","log","success","order","error","catch","err","watch","origin_total","values","forEach","i","mounted","$emit","computed","discount","fare","finalTotal","__exports__","render"],"mappings":"kJACOA,MAAM,uB,GACJA,MAAM,a,EACTC,gCAMM,OANDD,MAAM,YAAU,CACnBC,gCAAkC,QAA5BD,MAAM,WAAU,SACtBC,gCAGK,MAHDD,MAAM,qBAAqBE,iBAAe,SAA9C,CACED,gCAAc,YAAR,KAAN,6BAAc,aAHlB,G,GAOKD,MAAM,sB,SAeNA,MAAM,a,GACJA,MAAM,iB,GAKNA,MAAM,gB,GACJA,MAAM,wB,GACFA,MAAM,S,EACXC,gCAOQ,cANNA,gCAKK,MALDD,MAAM,cAAY,CACpBC,gCAAW,UAAP,MACJA,gCAAsB,MAAlBE,MAAM,MAAK,MACfF,gCAAW,UAAP,MACJA,gCAAW,UAAP,UALR,G,GAkBCD,MAAM,sB,EACTC,gCAAuB,KAApBD,MAAM,SAAQ,MAAE,G,GAGhBA,MAAM,0B,EACTC,gCAAuB,KAApBD,MAAM,SAAQ,MAAE,G,GAGhBA,MAAM,iB,EACTC,gCAAuB,KAApBD,MAAM,SAAQ,MAAE,G,EAGrBC,gCAAM,mB,GACDD,MAAM,iB,EACTC,gCAAuB,KAApBD,MAAM,SAAQ,MAAE,G,GAIlBA,MAAM,Q,EACTC,gCAEQ,SAFDG,IAAI,OAAOJ,MAAM,cAAa,WAErC,G,eASGA,MAAM,O,GACJA,MAAM,iB,EACTC,gCAEQ,SAFDG,IAAI,QAAQJ,MAAM,cAAa,YAEtC,G,eASGA,MAAM,iB,EACTC,gCAEQ,SAFDG,IAAI,MAAMJ,MAAM,cAAa,UAEpC,G,eAUCA,MAAM,Q,EACTC,gCAEQ,SAFDG,IAAI,MAAMJ,MAAM,cAAa,UAEpC,G,eASGA,MAAM,Q,EACTC,gCAEQ,SAFDG,IAAI,WAAWJ,MAAM,cAAa,QAEzC,G,oEA1HRK,gCAqIM,MArIN,EAqIM,CApIJJ,gCAmIM,MAnIN,EAmIM,CAlIJK,EAOAL,gCAcM,MAdN,EAcM,6BAbJA,gCAKE,SAJAM,KAAK,OACLP,MAAM,aACNQ,YAAY,U,qCACHC,YAASC,IAJpB,4BAIWD,eAEXR,gCAMS,UALPM,KAAK,SACLP,MAAM,+CACLW,QAAK,oBAAEC,qCACT,UAIuD,IAA7BC,OAAOC,KAAKL,aAAWM,QAAM,yBAA1DV,gCA2GM,MA3GN,EA2GM,CA1GJJ,gCAIM,MAJN,EAIM,CAHJA,gCAAmC,WAA9B,SAAMe,6BAAGP,YAAUQ,IAAE,GAC1BhB,gCAAiE,WAA5D,SAAMe,6BAAGE,UAAQC,QAA2B,IAAnBV,YAAUW,YAAS,GACjDnB,gCAAkD,WAAAe,6BAA1CP,YAAUY,QAAO,kBAE3BpB,gCAsCM,MAtCN,EAsCM,CArCJA,gCAmBM,MAnBN,EAmBM,CAlBJA,gCAiBQ,QAjBR,EAiBQ,CAhBNqB,EAQArB,gCAOQ,0CANNI,gCAKKkB,cAAA,KAAAC,wBALuBf,YAAUgB,SAAQ,CAAlCC,EAAMC,K,yBAAlBtB,gCAKK,MAL4CuB,IAAKD,GAAK,CACzD1B,gCAAiC,UAAAe,6BAA1BU,EAAKG,QAAQC,OAAK,GACzB7B,gCAAuB,UAAAe,6BAAhBU,EAAKK,KAAG,GACf9B,gCAAiC,UAAAe,6BAA1BU,EAAKG,QAAQG,OAAK,GACzB/B,gCAAyB,UAAAe,6BAAlBU,EAAKO,OAAK,OAJnB,YASNhC,gCAGM,MAHN,EAGM,CAFJiC,EACAjC,gCAA2B,SAAxB,KAAEe,6BAAGE,gBAAY,KAEtBjB,gCAGM,MAHN,EAGM,CAFJkC,EACAlC,gCAAyB,SAAtB,OAAIe,6BAAGJ,YAAQ,KAEpBX,gCAGM,MAHN,EAGM,CAFJmC,EACAnC,gCAAmB,SAAhB,KAAEe,6BAAGJ,QAAI,KAEdyB,EACApC,gCAGM,MAHN,EAGM,CAFJqC,EACArC,gCAAyB,SAAtB,KAAEe,6BAAGJ,cAAU,OAGtBX,gCAWM,MAXN,EAWM,CAVJsC,EAGAtC,gCAME,SALAM,KAAK,QACLP,MAAM,eACNiB,GAAG,OACFuB,MAAO/B,YAAUgC,KAAKC,KACvBC,SAAA,IALF,YAQF1C,gCAyBM,MAzBN,EAyBM,CAxBJA,gCAWM,MAXN,EAWM,CAVJ2C,EAGA3C,gCAME,SALAM,KAAK,QACLP,MAAM,eACNiB,GAAG,QACFuB,MAAO/B,YAAUgC,KAAKI,MACvBF,SAAA,IALF,YAQF1C,gCAWM,MAXN,EAWM,CAVJ6C,EAGA7C,gCAME,SALAM,KAAK,QACLP,MAAM,eACNiB,GAAG,MACFuB,MAAO/B,YAAUgC,KAAKM,IACvBJ,SAAA,IALF,cASJ1C,gCAWM,MAXN,EAWM,CAVJ+C,EAGA/C,gCAME,SALAM,KAAK,QACLP,MAAM,eACNiB,GAAG,MACFuB,MAAO/B,YAAUgC,KAAKQ,QACvBN,SAAA,IALF,YAQF1C,gCAWM,MAXN,EAWM,CAVJiD,EAGAjD,gCAMY,YALVD,MAAM,eACNiB,GAAG,WACHkC,KAAK,IACJX,MAAO/B,YAAU2C,QAClBT,SAAA,IALF,eAnGJ,2CAiHS,OACbU,OACE,MAAO,CACLC,UAAW,GACXC,UAAW,KAGfC,QAAS,CACPC,cACEC,KAAKC,WAAY,EACjB,MAAMC,EAAO,+DAAkEF,KAAKJ,UACpFI,KAAKG,MACFC,IAAIF,GACJG,KAAMC,IACLC,QAAQC,IAAIF,EAAIX,MACZW,EAAIX,KAAKc,SACXT,KAAKH,UAAYS,EAAIX,KAAKe,MAC1BH,QAAQC,IAAIF,IAEZC,QAAQI,MAAM,UAEhBX,KAAKC,WAAY,IAElBW,MAAOC,IACNN,QAAQC,IAAIK,GACZb,KAAKC,WAAY,MAIzBa,MAAO,CACLjB,YACEG,KAAKe,aAAe,EACpBR,QAAQC,IAAIR,KAAKH,UAAU9B,UAC3BZ,OAAO6D,OAAOhB,KAAKH,UAAU9B,UAAUkD,QAASC,IAC9ClB,KAAKe,cAAgBG,EAAE3C,UAI7B4C,UACEnB,KAAKoB,MAAM,OAAQ,UAErBC,SAAU,CACRC,WACE,OAAOtB,KAAKe,aAAef,KAAKH,UAAUtB,OAE5CgD,OACE,OAAIvB,KAAKe,aAAe,IACf,EAEF,KAETS,aACE,OAAOxB,KAAKH,UAAUtB,MAAQyB,KAAKuB,Q,qBCzLzC,MAAME,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0de156.672bcccd.js","sourcesContent":["<template>\n  <div class=\"pageInner orderPage\">\n    <div class=\"container\">\n      <div class=\"titleBox\">\n        <span class=\"titleEn\">Order</span>\n        <h2 class=\"title wow fadeInUp\" data-wow-delay=\"250ms\">\n          <span>訂</span>\n          單搜尋\n        </h2>\n      </div>\n      <div class=\"btnBox orderSearch\">\n        <input\n          type=\"text\"\n          class=\"orderInput\"\n          placeholder=\"請輸入訂單編號\"\n          v-model=\"orderCode\"\n        />\n        <button\n          type=\"button\"\n          class=\"btn btn-primary mr-2 border-start-0 orderBtn\"\n          @click=\"searchOrder\"\n        >\n          搜尋\n        </button>\n      </div>\n      <div class=\"orderInfo\" v-if=\"Object.keys(orderInfo).length !== 0\">\n        <div class=\"orderInfoList\">\n          <div>訂單編號: {{ orderInfo.id }}</div>\n          <div>訂單日期: {{ $filter.getDate(orderInfo.create_at *1000) }}</div>\n          <div>{{ orderInfo.is_paid ? '已付款' : '未付款' }}</div>\n        </div>\n        <div class=\"cartTotalBox\">\n          <div class=\"orderDetailList mb-1\">\n            <table class=\"w-100\">\n              <thead>\n                <tr class=\"orderTitle\">\n                  <td>名稱</td>\n                  <td width=\"60\">數量</td>\n                  <td>售價</td>\n                  <td>小計</td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(item, index) in orderInfo.products\" :key=\"index\">\n                  <td>{{ item.product.title }}</td>\n                  <td>{{ item.qty }}</td>\n                  <td>{{ item.product.price }}</td>\n                  <td>{{ item.total }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"cartTotalItem my-2\">\n            <p class=\"title\">總價</p>\n            <p>¥ {{ origin_total }}</p>\n          </div>\n          <div class=\"cartTotalItem red my-2\">\n            <p class=\"title\">折扣</p>\n            <p>– ¥ {{ discount }}</p>\n          </div>\n          <div class=\"cartTotalItem\">\n            <p class=\"title\">運費</p>\n            <p>¥ {{ fare }}</p>\n          </div>\n          <hr />\n          <div class=\"cartTotalItem\">\n            <p class=\"title\">結算</p>\n            <p>¥ {{ finalTotal }}</p>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">\n            訂購人姓名\n          </label>\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"name\"\n            :value=\"orderInfo.user.name\"\n            readonly\n          />\n        </div>\n        <div class=\"row\">\n          <div class=\"mb-3 col-md-6\">\n            <label for=\"email\" class=\"form-label\">\n              聯絡電子信箱\n            </label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              id=\"email\"\n              :value=\"orderInfo.user.email\"\n              readonly\n            />\n          </div>\n          <div class=\"mb-3 col-md-6\">\n            <label for=\"tel\" class=\"form-label\">\n              聯絡電話\n            </label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              id=\"tel\"\n              :value=\"orderInfo.user.tel\"\n              readonly\n            />\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"add\" class=\"form-label\">\n            收件地址\n          </label>\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"add\"\n            :value=\"orderInfo.user.address\"\n            readonly\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"massages\" class=\"form-label\">\n            備註\n          </label>\n          <textarea\n            class=\"form-control\"\n            id=\"massages\"\n            rows=\"3\"\n            :value=\"orderInfo.message\"\n            readonly\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      orderCode: '',\n      orderInfo: {},\n    };\n  },\n  methods: {\n    searchOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderCode}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          console.log(res.data);\n          if (res.data.success) {\n            this.orderInfo = res.data.order;\n            console.log(res);\n          } else {\n            console.error('訂單取得失敗');\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err);\n          this.isLoading = false;\n        });\n    },\n  },\n  watch: {\n    orderInfo() {\n      this.origin_total = 0;\n      console.log(this.orderInfo.products);\n      Object.values(this.orderInfo.products).forEach((i) => {\n        this.origin_total += i.total;\n      });\n    },\n  },\n  mounted() {\n    this.$emit('unit', 'order');\n  },\n  computed: {\n    discount() {\n      return this.origin_total - this.orderInfo.total;\n    },\n    fare() {\n      if (this.origin_total > 3000) {\n        return 0;\n      }\n      return 150;\n    },\n    finalTotal() {\n      return this.orderInfo.total + this.fare;\n    },\n  },\n};\n</script>\n","import { render } from \"./Order.vue?vue&type=template&id=1d84139c\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\homework\\\\sweet\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}