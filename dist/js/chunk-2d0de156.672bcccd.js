(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de156"],{"83af":function(e,t,l){"use strict";l.r(t);var o=l("7a23");const r={class:"pageInner orderPage"},c={class:"container"},a=Object(o["createElementVNode"])("div",{class:"titleBox"},[Object(o["createElementVNode"])("span",{class:"titleEn"},"Order"),Object(o["createElementVNode"])("h2",{class:"title wow fadeInUp","data-wow-delay":"250ms"},[Object(o["createElementVNode"])("span",null,"訂"),Object(o["createTextVNode"])(" 單搜尋 ")])],-1),n={class:"btnBox orderSearch"},d={key:0,class:"orderInfo"},s={class:"orderInfoList"},i={class:"cartTotalBox"},b={class:"orderDetailList mb-1"},m={class:"w-100"},O=Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",{class:"orderTitle"},[Object(o["createElementVNode"])("td",null,"名稱"),Object(o["createElementVNode"])("td",{width:"60"},"數量"),Object(o["createElementVNode"])("td",null,"售價"),Object(o["createElementVNode"])("td",null,"小計")])],-1),j={class:"cartTotalItem my-2"},u=Object(o["createElementVNode"])("p",{class:"title"},"總價",-1),E={class:"cartTotalItem red my-2"},p=Object(o["createElementVNode"])("p",{class:"title"},"折扣",-1),V={class:"cartTotalItem"},N=Object(o["createElementVNode"])("p",{class:"title"},"運費",-1),f=Object(o["createElementVNode"])("hr",null,null,-1),h={class:"cartTotalItem"},v=Object(o["createElementVNode"])("p",{class:"title"},"結算",-1),g={class:"mb-3"},y=Object(o["createElementVNode"])("label",{for:"name",class:"form-label"}," 訂購人姓名 ",-1),I=["value"],w={class:"row"},k={class:"mb-3 col-md-6"},D=Object(o["createElementVNode"])("label",{for:"email",class:"form-label"}," 聯絡電子信箱 ",-1),B=["value"],S={class:"mb-3 col-md-6"},T=Object(o["createElementVNode"])("label",{for:"tel",class:"form-label"}," 聯絡電話 ",-1),x=["value"],_={class:"mb-3"},C=Object(o["createElementVNode"])("label",{for:"add",class:"form-label"}," 收件地址 ",-1),L=["value"],$={class:"mb-3"},J=Object(o["createElementVNode"])("label",{for:"massages",class:"form-label"}," 備註 ",-1),U=["value"];function q(e,t,l,q,F,M){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("div",c,[a,Object(o["createElementVNode"])("div",n,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"orderInput",placeholder:"請輸入訂單編號","onUpdate:modelValue":t[0]||(t[0]=e=>F.orderCode=e)},null,512),[[o["vModelText"],F.orderCode]]),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-primary mr-2 border-start-0 orderBtn",onClick:t[1]||(t[1]=(...e)=>M.searchOrder&&M.searchOrder(...e))}," 搜尋 ")]),0!==Object.keys(F.orderInfo).length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",null,"訂單編號: "+Object(o["toDisplayString"])(F.orderInfo.id),1),Object(o["createElementVNode"])("div",null,"訂單日期: "+Object(o["toDisplayString"])(e.$filter.getDate(1e3*F.orderInfo.create_at)),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(F.orderInfo.is_paid?"已付款":"未付款"),1)]),Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("table",m,[O,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(F.orderInfo.products,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.product.title),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.qty),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.product.price),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.total),1)]))),128))])])]),Object(o["createElementVNode"])("div",j,[u,Object(o["createElementVNode"])("p",null,"¥ "+Object(o["toDisplayString"])(e.origin_total),1)]),Object(o["createElementVNode"])("div",E,[p,Object(o["createElementVNode"])("p",null,"– ¥ "+Object(o["toDisplayString"])(M.discount),1)]),Object(o["createElementVNode"])("div",V,[N,Object(o["createElementVNode"])("p",null,"¥ "+Object(o["toDisplayString"])(M.fare),1)]),f,Object(o["createElementVNode"])("div",h,[v,Object(o["createElementVNode"])("p",null,"¥ "+Object(o["toDisplayString"])(M.finalTotal),1)])]),Object(o["createElementVNode"])("div",g,[y,Object(o["createElementVNode"])("input",{type:"email",class:"form-control",id:"name",value:F.orderInfo.user.name,readonly:""},null,8,I)]),Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("div",k,[D,Object(o["createElementVNode"])("input",{type:"email",class:"form-control",id:"email",value:F.orderInfo.user.email,readonly:""},null,8,B)]),Object(o["createElementVNode"])("div",S,[T,Object(o["createElementVNode"])("input",{type:"email",class:"form-control",id:"tel",value:F.orderInfo.user.tel,readonly:""},null,8,x)])]),Object(o["createElementVNode"])("div",_,[C,Object(o["createElementVNode"])("input",{type:"email",class:"form-control",id:"add",value:F.orderInfo.user.address,readonly:""},null,8,L)]),Object(o["createElementVNode"])("div",$,[J,Object(o["createElementVNode"])("textarea",{class:"form-control",id:"massages",rows:"3",value:F.orderInfo.message,readonly:""},null,8,U)])])):Object(o["createCommentVNode"])("",!0)])])}var F={data(){return{orderCode:"",orderInfo:{}}},methods:{searchOrder(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/lili-testapi/order/"+this.orderCode;this.$http.get(e).then(e=>{console.log(e.data),e.data.success?(this.orderInfo=e.data.order,console.log(e)):console.error("訂單取得失敗"),this.isLoading=!1}).catch(e=>{console.log(e),this.isLoading=!1})}},watch:{orderInfo(){this.origin_total=0,console.log(this.orderInfo.products),Object.values(this.orderInfo.products).forEach(e=>{this.origin_total+=e.total})}},mounted(){this.$emit("unit","order")},computed:{discount(){return this.origin_total-this.orderInfo.total},fare(){return this.origin_total>3e3?0:150},finalTotal(){return this.orderInfo.total+this.fare}}},M=l("6b0d"),P=l.n(M);const z=P()(F,[["render",q]]);t["default"]=z}}]);
//# sourceMappingURL=chunk-2d0de156.672bcccd.js.map