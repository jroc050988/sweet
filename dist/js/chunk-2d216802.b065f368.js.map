{"version":3,"sources":["webpack:///./src/views/adminViews/Order.vue","webpack:///./src/components/adminComponents/OrderModal.vue","webpack:///./src/components/adminComponents/OrderModal.vue?9fe8","webpack:///./src/views/adminViews/Order.vue?bd90"],"names":["class","_createElementVNode","type","placeholder","width","_createVNode","_component_Header","_hoisted_5","_component_font_awesome_icon","icon","_hoisted_9","_createElementBlock","_Fragment","_renderList","$data","item","index","key","_toDisplayString","_ctx","getDate","create_at","id","user","name","is_paid","_hoisted_10","paid_date","_hoisted_11","href","title","onClick","$options","message","_component_OrderModal","ref","data","_component_Loading","isShow","tabindex","role","data-bs-dismiss","aria-label","for","colspan","$props","_hoisted_6","readonly","value","_hoisted_14","email","_hoisted_17","tel","_hoisted_20","address","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","products","pdt","product","origin_price","price","qty","total","_hoisted_32","final_total","_hoisted_33","code","percent","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_43","_hoisted_44","origin_total","coupon","mixins","modal","props","watch","this","Object","values","forEach","i","computed","fare","finalTotal","discount","__exports__","orderList","isLoading","orderDetail","components","Header","OrderModal","Loading","methods","openDetail","console","log","$refs","detail","showModal","getOrder","api","$http","get","then","res","success","orders","catch","err","error","mounted","render"],"mappings":"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","file":"js/chunk-2d216802.b065f368.js","sourcesContent":["<template>\n  <Header></Header>\n  <div class=\"container\">\n    <div class=\"adminInner\">\n      <div class=\"pdtSearchBox\">\n        <div class=\"btnBox\">\n          <input type=\"text\" placeholder=\"請輸入訂單編號\" />\n          <button type=\"button\" class=\"btn btn-primary mr-2 border-start-0\">\n            <font-awesome-icon icon=\"fa-solid fa-magnifying-glass\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"pdtList\">\n        <table class=\"mt-4\">\n          <thead>\n            <tr>\n              <th width=\"120\">訂單日期</th>\n              <th width=\"360\">訂單編號</th>\n              <th width=\"120\">訂購人</th>\n              <th width=\"120\">付款日期</th>\n              <th width=\"120\">詳細內容</th>\n              <th>備註</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in orderList\" :key=\"index\">\n              <td>{{ $filter.getDate(item.create_at * 1000) }}</td>\n              <td>\n                {{ item.id }}\n              </td>\n              <td>{{ item.user.name }}</td>\n              <td v-if=\"item.is_paid\">\n                {{ item.paid_date }}\n              </td>\n              <td v-else>\n                尚未付款\n              </td>\n              <td>\n                <a href=\"#\" title=\"查詢內容\" @click.prevent=\"openDetail(item)\">\n                  <font-awesome-icon icon=\"fa-solid fa-magnifying-glass\" />\n                </a>\n              </td>\n              <td>\n                {{ item.message }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <!-- <Pagination></Pagination> -->\n      <OrderModal ref=\"detail\" :data=\"orderDetail\"></OrderModal>\n      <Loading :isShow=\"isLoading\"></Loading>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/adminComponents/Header.vue';\n// import Pagination from '@/components/Pagination.vue';\nimport OrderModal from '@/components/adminComponents/OrderModal.vue';\nimport Loading from '@/components/Loading.vue';\n\nexport default {\n  data() {\n    return {\n      orderList: [],\n      isLoading: false,\n      orderDetail: {},\n    };\n  },\n  components: {\n    Header,\n    // Pagination,\n    OrderModal,\n    Loading,\n  },\n  methods: {\n    openDetail(item) {\n      this.orderDetail = item;\n      console.log(this.orderDetail);\n      this.$refs.detail.showModal();\n    },\n    getOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.orderList = res.data.orders;\n            console.log(res.data);\n            this.isLoading = false;\n          } else {\n            console.log('列表取得失敗');\n            this.isLoading = false;\n          }\n          console.log(res);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n  },\n  mounted() {\n    this.getOrder();\n  },\n};\n</script>\n","<template>\n  <!-- Modal -->\n  <div class=\"modal fade orderModal\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header\">\n          <p class=\"modalTitle\">\n            <span>訂單編號: {{ data.id }}</span>\n          </p>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\" v-if=\"data.user\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"name\" class=\"form-label\">\n                  訂購人姓名\n                </label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"name\"\n                  readonly\n                  :value=\"data.user.name\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"email\" class=\"form-label\">\n                  聯絡電子信箱\n                </label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"email\"\n                  readonly\n                  :value=\"data.user.email\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"tel\" class=\"form-label\">\n                  聯絡電話\n                </label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"tel\"\n                  readonly\n                  :value=\"data.user.tel\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"add\" class=\"form-label\">\n                  收件地址\n                </label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  id=\"add\"\n                  readonly\n                  :value=\"data.user.address\"\n                />\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"orderDetailList mb-1\">\n                <table class=\"w-100\">\n                  <thead>\n                    <tr class=\"orderTitle\">\n                      <td>名稱</td>\n                      <td width=\"120\">原價</td>\n                      <td width=\"120\">售價</td>\n                      <td width=\"60\">數量</td>\n                      <td width=\"120\">小計</td>\n                      <td width=\"120\" v-if=\"coupon\">折扣後</td>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(pdt, index) in data.products\" :key=\"index\">\n                      <td>{{ pdt.product.title }}</td>\n                      <td>{{ pdt.product.origin_price }}</td>\n                      <td>{{ pdt.product.price }}</td>\n                      <td>{{ pdt.qty }}</td>\n                      <td>\n                        {{ pdt.total }}\n                      </td>\n                      <td v-if=\"coupon\">\n                        {{ pdt.final_total }}\n                      </td>\n                    </tr>\n                    <tr v-if=\"coupon\">\n                      <td colspan=\"6\" class=\"text-left\">\n                        <font-awesome-icon icon=\"fa-solid fa-circle-check\" />\n                        已套用{{ coupon.title }}優惠券\"{{\n                          coupon.code\n                        }}\"；折扣{{ 100 - coupon.percent }}%\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"orderTotal\">\n                <div class=\"orderItem\">\n                  <p class=\"title\">總價</p>\n                  <p>¥ {{ origin_total }}</p>\n                </div>\n                <div class=\"orderItem red\" v-if=\"coupon\">\n                  <p class=\"title\">折扣</p>\n                  <p>– ¥ {{ discount }}</p>\n                </div>\n                <div class=\"orderItem\">\n                  <p class=\"title\">運費</p>\n                  <p>¥ {{ fare }}</p>\n                </div>\n                <div class=\"orderItem\">\n                  <p class=\"title\">結算</p>\n                  <p>¥ {{ finalTotal }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\">\n            確定\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modal from '@/mixins/bsmodal';\n\nexport default {\n  data() {\n    return {\n      origin_total: 0,\n      coupon: {},\n    };\n  },\n  mixins: [modal],\n  props: ['data'],\n  watch: {\n    data() {\n      this.origin_total = 0;\n      Object.values(this.data.products).forEach((i) => {\n        this.origin_total += i.total;\n        this.coupon = i.coupon;\n      });\n    },\n  },\n  computed: {\n    fare() {\n      if (this.origin_total < 3000) {\n        return 150;\n      }\n      return 0;\n    },\n    finalTotal() {\n      return this.data.total + this.fare;\n    },\n    discount() {\n      return (this.origin_total + this.fare) - this.finalTotal;\n    },\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=970be33e\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\homework\\\\sweet\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Order.vue?vue&type=template&id=4c63e210\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\homework\\\\sweet\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}