(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216802"],{c373:function(e,t,c){"use strict";c.r(t);var l=c("7a23");const o={class:"container"},a={class:"adminInner"},n={class:"pdtSearchBox"},r={class:"btnBox"},d=Object(l["createElementVNode"])("input",{type:"text",placeholder:"請輸入訂單編號"},null,-1),i={type:"button",class:"btn btn-primary mr-2 border-start-0"},s={class:"pdtList"},b={class:"mt-4"},m=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{width:"120"},"訂單日期"),Object(l["createElementVNode"])("th",{width:"360"},"訂單編號"),Object(l["createElementVNode"])("th",{width:"120"},"訂購人"),Object(l["createElementVNode"])("th",{width:"120"},"付款日期"),Object(l["createElementVNode"])("th",{width:"120"},"詳細內容"),Object(l["createElementVNode"])("th",null,"備註")])],-1),O={key:0},j={key:1},p=["onClick"];function u(e,t,c,u,E,N){const V=Object(l["resolveComponent"])("Header"),h=Object(l["resolveComponent"])("font-awesome-icon"),g=Object(l["resolveComponent"])("OrderModal"),y=Object(l["resolveComponent"])("Loading");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(V),Object(l["createElementVNode"])("div",o,[Object(l["createElementVNode"])("div",a,[Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("div",r,[d,Object(l["createElementVNode"])("button",i,[Object(l["createVNode"])(h,{icon:"fa-solid fa-magnifying-glass"})])])]),Object(l["createElementVNode"])("div",s,[Object(l["createElementVNode"])("table",b,[m,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(E.orderList,(t,c)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:c},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.$filter.getDate(1e3*t.create_at)),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(t.id),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(t.user.name),1),t.is_paid?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",O,Object(l["toDisplayString"])(t.paid_date),1)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",j," 尚未付款 ")),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("a",{href:"#",title:"查詢內容",onClick:Object(l["withModifiers"])(e=>N.openDetail(t),["prevent"])},[Object(l["createVNode"])(h,{icon:"fa-solid fa-magnifying-glass"})],8,p)]),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(t.message),1)]))),128))])])]),Object(l["createVNode"])(g,{ref:"detail",data:E.orderDetail},null,8,["data"]),Object(l["createVNode"])(y,{isShow:E.isLoading},null,8,["isShow"])])])],64)}var E=c("1985");const N={class:"modal fade orderModal",tabindex:"-1",ref:"modal"},V={class:"modal-dialog modal-xl",role:"document"},h={class:"modal-content border-0"},g={class:"modal-header"},y={class:"modalTitle"},f=Object(l["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),v={key:0,class:"modal-body"},k={class:"row"},B={class:"col-sm-4"},D={class:"mb-3"},w=Object(l["createElementVNode"])("label",{for:"name",class:"form-label"}," 訂購人姓名 ",-1),S=["value"],L={class:"mb-3"},C=Object(l["createElementVNode"])("label",{for:"email",class:"form-label"}," 聯絡電子信箱 ",-1),_=["value"],x={class:"mb-3"},T=Object(l["createElementVNode"])("label",{for:"tel",class:"form-label"}," 聯絡電話 ",-1),I=["value"],M={class:"mb-3"},F=Object(l["createElementVNode"])("label",{for:"add",class:"form-label"}," 收件地址 ",-1),$=["value"],H={class:"col-sm-8"},J={class:"orderDetailList mb-1"},q={class:"w-100"},z={class:"orderTitle"},A=Object(l["createElementVNode"])("td",null,"名稱",-1),G=Object(l["createElementVNode"])("td",{width:"120"},"原價",-1),K=Object(l["createElementVNode"])("td",{width:"120"},"售價",-1),P=Object(l["createElementVNode"])("td",{width:"60"},"數量",-1),Q=Object(l["createElementVNode"])("td",{width:"120"},"小計",-1),R={key:0,width:"120"},U={key:0},W={key:0},X={colspan:"6",class:"text-left"},Y={class:"orderTotal"},Z={class:"orderItem"},ee=Object(l["createElementVNode"])("p",{class:"title"},"總價",-1),te={key:0,class:"orderItem red"},ce=Object(l["createElementVNode"])("p",{class:"title"},"折扣",-1),le={class:"orderItem"},oe=Object(l["createElementVNode"])("p",{class:"title"},"運費",-1),ae={class:"orderItem"},ne=Object(l["createElementVNode"])("p",{class:"title"},"結算",-1),re=Object(l["createElementVNode"])("div",{class:"modal-footer"},[Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"}," 確定 ")],-1);function de(e,t,c,o,a,n){const r=Object(l["resolveComponent"])("font-awesome-icon");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",N,[Object(l["createElementVNode"])("div",V,[Object(l["createElementVNode"])("div",h,[Object(l["createElementVNode"])("div",g,[Object(l["createElementVNode"])("p",y,[Object(l["createElementVNode"])("span",null,"訂單編號: "+Object(l["toDisplayString"])(c.data.id),1)]),f]),c.data.user?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",v,[Object(l["createElementVNode"])("div",k,[Object(l["createElementVNode"])("div",B,[Object(l["createElementVNode"])("div",D,[w,Object(l["createElementVNode"])("input",{type:"email",class:"form-control",id:"name",readonly:"",value:c.data.user.name},null,8,S)]),Object(l["createElementVNode"])("div",L,[C,Object(l["createElementVNode"])("input",{type:"email",class:"form-control",id:"email",readonly:"",value:c.data.user.email},null,8,_)]),Object(l["createElementVNode"])("div",x,[T,Object(l["createElementVNode"])("input",{type:"email",class:"form-control",id:"tel",readonly:"",value:c.data.user.tel},null,8,I)]),Object(l["createElementVNode"])("div",M,[F,Object(l["createElementVNode"])("input",{type:"email",class:"form-control",id:"add",readonly:"",value:c.data.user.address},null,8,$)])]),Object(l["createElementVNode"])("div",H,[Object(l["createElementVNode"])("div",J,[Object(l["createElementVNode"])("table",q,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",z,[A,G,K,P,Q,a.coupon?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",R,"折扣後")):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(c.data.products,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.product.title),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.product.origin_price),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.product.price),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.qty),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.total),1),a.coupon?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",U,Object(l["toDisplayString"])(e.final_total),1)):Object(l["createCommentVNode"])("",!0)]))),128)),a.coupon?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",W,[Object(l["createElementVNode"])("td",X,[Object(l["createVNode"])(r,{icon:"fa-solid fa-circle-check"}),Object(l["createTextVNode"])(" 已套用"+Object(l["toDisplayString"])(a.coupon.title)+'優惠券"'+Object(l["toDisplayString"])(a.coupon.code)+'"；折扣'+Object(l["toDisplayString"])(100-a.coupon.percent)+"% ",1)])])):Object(l["createCommentVNode"])("",!0)])])]),Object(l["createElementVNode"])("div",Y,[Object(l["createElementVNode"])("div",Z,[ee,Object(l["createElementVNode"])("p",null,"¥ "+Object(l["toDisplayString"])(a.origin_total),1)]),a.coupon?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",te,[ce,Object(l["createElementVNode"])("p",null,"– ¥ "+Object(l["toDisplayString"])(n.discount),1)])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",le,[oe,Object(l["createElementVNode"])("p",null,"¥ "+Object(l["toDisplayString"])(n.fare),1)]),Object(l["createElementVNode"])("div",ae,[ne,Object(l["createElementVNode"])("p",null,"¥ "+Object(l["toDisplayString"])(n.finalTotal),1)])])])])])):Object(l["createCommentVNode"])("",!0),re])])],512)}var ie=c("8ad7"),se={data(){return{origin_total:0,coupon:{}}},mixins:[ie["a"]],props:["data"],watch:{data(){this.origin_total=0,Object.values(this.data.products).forEach(e=>{this.origin_total+=e.total,this.coupon=e.coupon})}},computed:{fare(){return this.origin_total<3e3?150:0},finalTotal(){return this.data.total+this.fare},discount(){return this.origin_total+this.fare-this.finalTotal}}},be=c("6b0d"),me=c.n(be);const Oe=me()(se,[["render",de]]);var je=Oe,pe=c("3a5e"),ue={data(){return{orderList:[],isLoading:!1,orderDetail:{}}},components:{Header:E["a"],OrderModal:je,Loading:pe["a"]},methods:{openDetail(e){this.orderDetail=e,console.log(this.orderDetail),this.$refs.detail.showModal()},getOrder(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/lili-testapi/admin/orders";this.$http.get(e).then(e=>{e.data.success?(this.orderList=e.data.orders,console.log(e.data),this.isLoading=!1):(console.log("列表取得失敗"),this.isLoading=!1),console.log(e)}).catch(e=>{console.error(e)})}},mounted(){this.getOrder()}};const Ee=me()(ue,[["render",u]]);t["default"]=Ee}}]);
//# sourceMappingURL=chunk-2d216802.b065f368.js.map