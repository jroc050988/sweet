(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aad7298"],{"3a5e":function(e,t,i){"use strict";var n=i("7a23");const o=Object(n["createElementVNode"])("div",{class:"loadingio-spinner-spin-5hfsjfnfs9l"},[Object(n["createElementVNode"])("div",{class:"ldio-pxmsnoggd6n"},[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div")])])],-1);function a(e,t,i,a,r,c){const l=Object(n["resolveComponent"])("VueLoading");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{loader:"bars",active:r.isLoading,"onUpdate:active":t[0]||(t[0]=e=>r.isLoading=e)},{default:Object(n["withCtx"])(()=>[o]),_:1},8,["active"])}var r=i("9062"),c=i.n(r),l=(i("e40d"),{data(){return{isLoading:this.isShow}},props:["isShow"],components:{VueLoading:c.a},watch:{isShow(){this.isLoading=this.isShow}}}),s=(i("d1d1"),i("6b0d")),d=i.n(s);const u=d()(l,[["render",a]]);t["a"]=u},"46e4":function(e,t,i){},"50d2":function(e,t,i){"use strict";t["a"]={methods:{addCart(e,t,i){this.isLoading=!0,console.log(e.num);const n="https://vue3-course-api.hexschool.io/api/lili-testapi/cart",o={product_id:e.id};o.qty=!0===t?Number(e.num):1,this.$http.post(n,{data:o}).then(e=>{console.log(e.data),e.data.success?(!0===t&&!0===i&&this.$router.push("/cart"),this.emitter.emit("pushMessage",{style:"success",content:e.data.message,icon:"fa-solid fa-cart-plus"})):(console.error(e.data.message),this.emitter.emit("pushMessage",{style:"fail",content:"加入購物車失敗",icon:"fa-solid fa-triangle-exclamation"})),this.isLoading=!1}).catch(e=>{console.error(e),this.isLoading=!1})}}}},9062:function(e,t,i){!function(t,n){e.exports=n(i("7a23"))}(0,(function(e){return(()=>{"use strict";var t={553:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i}},976:t=>{t.exports=e}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var a=i[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{Component:()=>w,Plugin:()=>k,default:()=>V,useLoading:()=>E});var e=n(976);function t(t,i,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=(0,e.h)(t,i,o),r=document.createElement("div");return r.classList.add("vld-container"),n.appendChild(r),(0,e.render)(a,r),a.component}const i="undefined"!=typeof window?window.HTMLElement:Object,a=["aria-busy"],r={class:"vld-icon"},c={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(e){if(!this.isActive)return;if(e.target===this.$refs.root||this.$refs.root.contains(e.target))return;let t=this.container?this.container:this.isFullPage?null:this.$refs.root.parentElement;(this.isFullPage||t&&t.contains(e.target))&&(e.preventDefault(),this.$refs.root.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},l=["width","height","stroke"],s=[(0,e.createStaticVNode)('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".25" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.8s" repeatCount="indefinite"></animateTransform></path></g></g>',1)],d=(0,e.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});var u=n(553);const m=(0,u.default)(d,[["render",function(t,i,n,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,stroke:t.color},s,8,l)}]]),h=["fill","width","height"],p=[(0,e.createStaticVNode)('<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',3)],f=(0,e.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}}),b=(0,u.default)(f,[["render",function(t,i,n,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:t.color,width:t.width,height:t.height},p,8,h)}]]),g=["height","width","fill"],v=[(0,e.createStaticVNode)('<rect x="0" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate></rect>',3)],y=(0,e.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}}),O={Spinner:m,Dots:b,Bars:(0,u.default)(y,[["render",function(t,i,n,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:t.height,width:t.width,fill:t.color},v,8,g)}]])},N=(0,e.defineComponent)({name:"vue-loading",mixins:[c],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,i],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,blur:{type:String,default:"2px"},opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},emits:["hide","update:active"],data(){return{isActive:this.active}},components:O,mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){this.canCancel&&this.isActive&&(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{const t=this.$refs.root.parentElement;var i,n;(0,e.render)(null,t),void 0!==(i=t).remove?i.remove():null===(n=i.parentNode)||void 0===n||n.removeChild(i)},150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vld-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vld-shown")},keyPress(e){27===e.keyCode&&this.cancel()}},watch:{active(e){this.isActive=e},isActive(e){e?this.disableScroll():this.enableScroll()}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity,backdropFilter:"blur(".concat(this.blur,")")}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}}),j=(0,u.default)(N,[["render",function(t,i,n,o,c,l){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{ref:"root",name:t.transition},{default:(0,e.withCtx)(()=>[(0,e.withDirectives)((0,e.createElementVNode)("div",{tabindex:"0",class:(0,e.normalizeClass)(["vld-overlay is-active",{"is-full-page":t.isFullPage}]),"aria-busy":t.isActive,"aria-label":"Loading",style:(0,e.normalizeStyle)({zIndex:t.zIndex})},[(0,e.createElementVNode)("div",{class:"vld-background",onClick:i[0]||(i[0]=(0,e.withModifiers)((function(){return t.cancel&&t.cancel(...arguments)}),["prevent"])),style:(0,e.normalizeStyle)(t.bgStyle)},null,4),(0,e.createElementVNode)("div",r,[(0,e.renderSlot)(t.$slots,"before"),(0,e.renderSlot)(t.$slots,"default",{},()=>[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(t.loader),{color:t.color,width:t.width,height:t.height},null,8,["color","width","height"]))]),(0,e.renderSlot)(t.$slots,"after")])],14,a),[[e.vShow,t.isActive]])]),_:3},8,["name"])}]]),w=j;function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{show(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const a=Object.assign({},e,n,{programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0});let r=a.container;a.container||(r=document.body,a.isFullPage=!0);const c=Object.assign({},i,o);return{hide:t(w,a,r,c).ctx.hide}}}}const k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=E(t,i);e.config.globalProperties.$loading=n,e.provide("$loading",n)};w.install=k;const V=w})(),o})()}))},"98f1":function(e,t,i){"use strict";i.r(t);var n=i("7a23");const o={class:"pageInner"},a={class:"container"},r=Object(n["createElementVNode"])("div",{class:"titleBox"},[Object(n["createElementVNode"])("span",{class:"titleEn"},"Favorite"),Object(n["createElementVNode"])("h2",{class:"title wow fadeInUp","data-wow-delay":"250ms"},[Object(n["createElementVNode"])("span",null,"我"),Object(n["createTextVNode"])("的最愛 ")])],-1),c={key:0,class:"notFoundBox text-center mt-5 fs-3"},l=Object(n["createElementVNode"])("p",{class:"title"},"目前還沒有將任何甜品添加至我的最愛",-1),s={key:1,class:"w-100 mt-2"},d=Object(n["createElementVNode"])("thead",{class:"cartListTitle"},[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",{width:"240"},"圖片"),Object(n["createElementVNode"])("td",null,"品名"),Object(n["createElementVNode"])("td",{width:"120"},"售價"),Object(n["createElementVNode"])("td",{width:"120"},"購買"),Object(n["createElementVNode"])("td",{width:"120"},"刪除")])],-1),u={class:"favoriteList"},m={class:"imgBox"},h=["title","onClick"],p=["src","alt"],f={class:"pdtName"},b=["title","onClick"],g={class:"pdtPrice"},v={class:"pdtAddCart"},y=["onClick"],O={class:"pdtDelete"},N=["onClick"];function j(e,t,i,j,w,E){const k=Object(n["resolveComponent"])("font-awesome-icon"),V=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",a,[r,0===w.favoriteList.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[l,Object(n["createElementVNode"])("button",{class:"btn btn-primary mr-2",type:"button",onClick:t[0]||(t[0]=t=>e.$router.push("/menu/all"))}," 瀏覽商品 ")])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("table",s,[d,Object(n["createElementVNode"])("tbody",u,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(w.favoriteList,(t,i)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{class:"favoriteItem",key:i},[Object(n["createElementVNode"])("td",m,[Object(n["createElementVNode"])("a",{href:"#",title:t.title,onClick:Object(n["withModifiers"])(e=>E.productDatil(t.id),["prevent"])},[Object(n["createElementVNode"])("img",{src:t.imageUrl,alt:t.title,class:"img-fluid"},null,8,p)],8,h)]),Object(n["createElementVNode"])("td",f,[Object(n["createElementVNode"])("a",{href:"#",title:t.title,onClick:Object(n["withModifiers"])(e=>E.productDatil(t.id),["prevent"]),class:"pdtName"},Object(n["toDisplayString"])(t.title),9,b)]),Object(n["createElementVNode"])("td",g,"$ "+Object(n["toDisplayString"])(e.$filter.currency(t.price)),1),Object(n["createElementVNode"])("td",v,[Object(n["createElementVNode"])("a",{href:"#",title:"加入購物車",class:"pdtCart",onClick:Object(n["withModifiers"])(e=>E.toCart(t),["prevent"])},[Object(n["createVNode"])(k,{icon:"fa-solid fa-cart-plus"})],8,y)]),Object(n["createElementVNode"])("td",O,[Object(n["createElementVNode"])("a",{href:"#",title:"刪除",class:"pdtDelete",onClick:Object(n["withModifiers"])(i=>e.addFavorite("remove",t),["prevent"])},[Object(n["createVNode"])(k,{icon:"fa-solid fa-trash-can"})],8,N)])]))),128))])]))])]),Object(n["createVNode"])(V,{isShow:w.isLoading},null,8,["isShow"])],64)}var w=i("a05c"),E=i("3a5e"),k=i("50d2"),V={data(){return{favoriteList:[],isLoading:!1}},inject:["emitter"],components:{Loading:E["a"]},mixins:[w["a"],k["a"]],methods:{getProducts(){this.isLoading=!0,this.favoriteList=JSON.parse(localStorage.getItem("favorite")),this.isLoading=!1},toCart(e){const t=JSON.parse(localStorage.getItem("favorite")),i=t.map(e=>e.id);t.splice(i.indexOf(e.id),1);const n=JSON.stringify(t);localStorage.setItem("favorite",n),this.getProducts(),this.addCart(e)},productDatil(e){this.$router.push("/product/"+e)}},mounted(){this.getProducts(),this.$emit("unit","favorite")}},S=i("6b0d"),C=i.n(S);const x=C()(V,[["render",j]]);t["default"]=x},a05c:function(e,t,i){"use strict";t["a"]={methods:{addFavorite(e,t){console.log("add");let i=[],n="";if(localStorage.getItem("favorite"))if(i=JSON.parse(localStorage.getItem("favorite")),"add"===e)i.push(t),n=JSON.stringify(i),this.emitter.emit("pushMessage",{style:"success",content:"已加入我的最愛",icon:"fa-solid fa-heart"});else{const e=i.map(e=>e.id);i.splice(e.indexOf(t.id),1),n=JSON.stringify(i),this.emitter.emit("pushMessage",{style:"fail",content:"已刪除我的最愛",icon:"fa-solid fa-heart"})}else i.push(t),n=JSON.stringify(i),this.emitter.emit("pushMessage",{style:"success",content:"已加入我的最愛",icon:"fa-solid fa-heart"});localStorage.setItem("favorite",n),this.getProducts()}}}},d1d1:function(e,t,i){"use strict";i("46e4")},e40d:function(e,t,i){}}]);
//# sourceMappingURL=chunk-6aad7298.dd2b7ee0.js.map