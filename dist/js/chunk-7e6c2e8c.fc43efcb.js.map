{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?2044","webpack:///./src/views/adminViews/Products.vue","webpack:///./src/components/adminComponents/Modal.vue","webpack:///./src/components/adminComponents/Modal.vue?a67a","webpack:///./src/views/adminViews/Products.vue?1a0c"],"names":["aria-label","class","_createElementBlock","_createElementVNode","$props","has_pre","href","onClick","_ctx","current_page","_createVNode","_component_font_awesome_icon","icon","_Fragment","_renderList","total_pages","item","key","active","_hoisted_4","has_next","props","__exports__","render","_hoisted_5","width","_component_Header","$data","$event","onChange","$options","type","placeholder","_hoisted_17","index","_toDisplayString","category","src","imageUrl","alt","title","origin_price","price","is_enabled","_hoisted_22","_hoisted_23","_component_Loading","isShow","_createBlock","_component_Pagination","page","onChangePage","_component_Modal","ref","pdt","onUpdate","_component_DelModal","onDelProduct","tabindex","role","data-bs-dismiss","for","selected","value","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_component_Form","onSubmit","errors","_hoisted_10","_component_Field","id","name","rules","_component_ErrorMessage","_hoisted_13","imagesUrl","_hoisted_19","_hoisted_24","unit","_hoisted_49","as","rows","description","content","true-value","false-value","_hoisted_60","inject","data","product","imgsInput","imgsError","mixins","modal","Object","defalut","methods","submit","this","Number","$emit","imageUpload","domId","file","$refs","files","formdata","FormData","append","api","$http","post","then","res","success","pushImg","document","getElementById","emitter","emit","style","message","isLoading","catch","err","console","log","deleteImgs","splice","length","img","imageArry","push","watch","productList","tempProduct","isNew","currentPage","allProducts","searchInput","isSearch","selectInput","searchBoth","components","Header","Pagination","Modal","DelModal","Loading","getProducts","get","products","pagination","error","openModal","showModal","JSON","parse","stringify","openDelModal","delModal","delProduct","delete","hideModal","updateProduct","method","changePage","search","values","filter","match","searchBox","clear","mounted"],"mappings":"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","file":"js/chunk-7e6c2e8c.fc43efcb.js","sourcesContent":["<template>\n  <nav aria-label=\"Page navigation\" class=\"pagination justify-content-center\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\" v-if=\"page.has_pre == true\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('changePage', page.current_page-1)\">\n          <font-awesome-icon icon=\"fa-solid fa-angle-left\" />\n        </a>\n      </li>\n      <li class=\"page-item\" v-for=\"item in page.total_pages\" :key=\"item\">\n        <a\n          class=\"page-link\"\n          :class=\"{ active: item == page.current_page }\"\n          href=\"#\"\n          @click.prevent=\"$emit('changePage', item)\"\n        >\n          {{ item }}\n        </a>\n      </li>\n      <li class=\"page-item\" v-if=\"page.has_next == true\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('changePage', page.current_page+1)\">\n          <font-awesome-icon icon=\"fa-solid fa-angle-right\" />\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['page'],\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=17dd7d9c\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\homework\\\\sweet\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Header></Header>\n  <div class=\"container\">\n    <div class=\"adminInner\">\n      <div class=\"pdtSearchBox\">\n        <div class=\"btnBox\">\n          <select\n            class=\"form-select\"\n            v-model=\"selectInput\"\n            @change=\"searchBox('category', selectInput)\"\n          >\n            <option value=\"\">-----請選擇分類-----</option>\n            <option value=\"派對蛋糕\">派對蛋糕</option>\n            <option value=\"小蛋糕\">小蛋糕</option>\n            <option value=\"鬆餅\">鬆餅</option>\n            <option value=\"麵包\">麵包</option>\n            <option value=\"其他甜品\">其他甜品</option>\n            <option value=\"各式飲品\">各式飲品</option>\n          </select>\n        </div>\n        <div class=\"btnBox\">\n          <input\n            class=\"form-control\"\n            type=\"text\"\n            placeholder=\"請輸入產品名稱\"\n            v-model=\"searchInput\"\n          />\n          <button\n            type=\"button\"\n            class=\"btn btn-primary mr-2 border-start-0\"\n            @click=\"searchBox('title', searchInput)\"\n          >\n            <font-awesome-icon icon=\"fa-solid fa-magnifying-glass\" />\n          </button>\n        </div>\n        <button\n            type=\"button\"\n            class=\"btn btn-primary mr-2 border-start-0\"\n            @click=\"clear\"\n          >\n            清除搜尋\n          </button>\n      </div>\n      <div class=\"btnBox\">\n        <button\n          type=\"button\"\n          class=\"btn btn-primary mr-2 border-start-0\"\n          @click=\"openModal(true)\"\n        >\n          新增甜品\n        </button>\n      </div>\n      <div class=\"pdtList\">\n        <table class=\"mt-4\">\n          <thead>\n            <tr>\n              <th width=\"120\">分類</th>\n              <th width=\"120\">照片</th>\n              <th>名稱</th>\n              <th width=\"120\">原價</th>\n              <th width=\"120\">售價</th>\n              <th width=\"100\">狀態</th>\n              <th width=\"200\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in productList\" :key=\"index\">\n              <td>{{ item.category }}</td>\n              <td>\n                <img :src=\"item.imageUrl\" alt=\"\" class=\"img-fluid\" />\n              </td>\n              <td class=\"title\">{{ item.title }}</td>\n              <td>\n                {{ item.origin_price }}\n              </td>\n              <td>\n                {{ item.price }}\n              </td>\n              <td>\n                <span class=\"text-success\">\n                  {{ item.is_enabled == 1 ? '上架中' : '未上架' }}\n                </span>\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button\n                    class=\"btn btn-outline-primary btn-sm\"\n                    @click=\"openModal(false, item)\"\n                  >\n                    編輯\n                  </button>\n                  <button\n                    class=\"btn btn-outline-danger btn-sm\"\n                    @click=\"openDelModal(item)\"\n                  >\n                    刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <Loading :isShow=\"isLoading\"></Loading>\n      <Pagination\n        :page=\"page\"\n        @changePage=\"changePage\"\n        v-if=\"!isSearch\"\n      ></Pagination>\n      <Modal ref=\"modal\" :pdt=\"tempProduct\" @update=\"updateProduct\"></Modal>\n      <DelModal\n        ref=\"delModal\"\n        :pdt=\"tempProduct\"\n        @del-product=\"delProduct\"\n      ></DelModal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/adminComponents/Header.vue';\nimport Pagination from '@/components/Pagination.vue';\nimport Modal from '@/components/adminComponents/Modal.vue';\nimport DelModal from '@/components/adminComponents/DelModal.vue';\nimport Loading from '@/components/Loading.vue';\n\nexport default {\n  data() {\n    return {\n      productList: [],\n      tempProduct: {},\n      isNew: false,\n      page: {},\n      currentPage: 1,\n      isLoading: false,\n      allProducts: [],\n      searchInput: '',\n      isSearch: false,\n      selectInput: '',\n      searchBoth: false,\n    };\n  },\n  inject: ['emitter'],\n  components: {\n    Header,\n    Pagination,\n    Modal,\n    DelModal,\n    Loading,\n  },\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${this.currentPage}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.productList = res.data.products;\n            this.page = res.data.pagination;\n            console.log(this.productList, 'productList');\n          } else {\n            console.error('列表取得失敗');\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err);\n          this.isLoading = false;\n        });\n    },\n    openModal(isNew, item) {\n      this.$refs.modal.showModal();\n      this.tempProduct = JSON.parse(JSON.stringify(item));\n      this.isNew = isNew;\n      console.log(this.productList, 'productList');\n    },\n    openDelModal(item) {\n      this.$refs.delModal.showModal();\n      this.tempProduct = { ...item };\n    },\n    delProduct(item) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n      this.$http\n        .delete(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('pushMessage', {\n              style: 'success',\n              content: res.data.message,\n              icon: '',\n            });\n            this.getProducts();\n          } else {\n            this.emitter.emit('pushMessage', {\n              style: 'fail',\n              content: res.data.message,\n              icon: 'fa-solid fa-triangle-exclamation',\n            });\n          }\n          this.$refs.delModal.hideModal();\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    updateProduct(item) {\n      this.isLoading = true;\n      // 產品更新\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n      let method = 'put';\n      // 產品新增\n      if (this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n        method = 'post';\n      }\n      this.isLoading = true;\n      this.$http[method](api, { data: item })\n        .then((res) => {\n          this.isLoading = false;\n          this.$refs.modal.hideModal();\n          if (res.data.success) {\n            this.emitter.emit('pushMessage', {\n              style: 'success',\n              content: res.data.message,\n              icon: '',\n            });\n            this.getProducts();\n          } else {\n            this.emitter.emit('pushMessage', {\n              style: 'fail',\n              content: res.data.message,\n              icon: 'fa-solid fa-triangle-exclamation',\n            });\n          }\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.error(err);\n        });\n      this.isLoading = false;\n    },\n    changePage(page) {\n      this.currentPage = page;\n      this.getProducts();\n    },\n    search(search, id) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          if (res.data.success) {\n            if (this.searchBoth) {\n              console.log('both');\n              this.productList = Object.values(this.allProducts)\n                .filter((item) => item.title.match(this.searchInput)\n                  && item.category.match(this.selectInput));\n            } else {\n              this.allProducts = res.data.products;\n              this.productList = Object.values(this.allProducts)\n                .filter((item) => item[search].match(id));\n            }\n            this.isLoading = false;\n          } else {\n            console.error('列表取得失敗');\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    searchBox(search, id) {\n      if (this.searchInput !== '' && this.selectInput !== '') {\n        this.search();\n        this.searchBoth = true;\n      } else if (id === '') {\n        this.clear();\n      } else {\n        this.search(search, id);\n        this.isSearch = true;\n      }\n    },\n    clear() {\n      this.isSearch = false;\n      this.searchInput = '';\n      this.selectInput = '';\n      this.getProducts();\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <!-- Modal -->\n  <div class=\"modal fade\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <Form\n        class=\"modal-content border-0\"\n        v-slot=\"{\n          errors,\n        }\"\n        @submit=\"submit\"\n      >\n        <div class=\"modal-header\">\n          <p class=\"modalTitle\">\n            <span>新增/編輯甜品</span>\n          </p>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <p class=\"title inputTitle\">\n                <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                主圖設定\n              </p>\n              <img class=\"img-fluid mb-2\" alt=\"\" :src=\"product.imageUrl\" />\n              <small class=\"red\">尺寸建議: 600px*400px</small>\n              <div class=\"mb-2\">\n                <Field\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  placeholder=\"請輸入圖片連結\"\n                  v-model=\"product.imageUrl\"\n                  :class=\"{ 'is-invalid': errors['圖片連結'] }\"\n                  name=\"圖片連結\"\n                  rules=\"url\"\n                ></Field>\n                <ErrorMessage name=\"圖片連結\" class=\"inputNote\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\">\n                  或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  rules=\"image\"\n                  name=\"上傳圖片\"\n                  ref=\"imgUpload\"\n                  :class=\"{ 'is-invalid': errors['上傳圖片'] }\"\n                  @change=\"imageUpload('imgUpload', 'customFile')\"\n                />\n              </div>\n              <p class=\"title inputTitle\">\n                <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                更多圖片(上限十張)\n              </p>\n              <div class=\"imgBox mb-2\">\n                <div\n                  class=\"imginner\"\n                  v-for=\"(item, index) in product.imagesUrl\"\n                  :key=\"index\"\n                >\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-primary deleteBtn\"\n                    @click=\"deleteImgs(index)\"\n                  >\n                    刪除\n                  </button>\n                  <img\n                    class=\"img-fluid\"\n                    :alt=\"product.title + (index + 1)\"\n                    :src=\"item\"\n                  />\n                </div>\n              </div>\n              <small class=\"red\">尺寸建議: 600px*400px</small>\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mb-2\" v-if=\"!imgsError\">\n                <div class=\"input-group\">\n                  <Field\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"images\"\n                    placeholder=\"請輸入圖片連結\"\n                    v-model=\"imgsInput\"\n                    name=\"多圖連結\"\n                    rules=\"url\"\n                  ></Field>\n                  <div class=\"input-group-append\">\n                    <button\n                      class=\"btn btn-primary\"\n                      type=\"button\"\n                      @click=\"pushImg(imgsInput)\"\n                    >\n                      新增\n                    </button>\n                  </div>\n                </div>\n                <ErrorMessage name=\"多圖連結\" class=\"inputNote\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\" v-if=\"!imgsError\">\n                <label for=\"customFile\" class=\"form-label\">\n                  或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile2\"\n                  class=\"form-control\"\n                  rules=\"image\"\n                  name=\"上傳圖片\"\n                  ref=\"imgUpload2\"\n                  :class=\"{ 'is-invalid': errors['上傳圖片'] }\"\n                  @change=\"imageUpload('imgUpload2', 'customFile2')\"\n                />\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label inputTitle\">\n                  <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                  標題\n                </label>\n                <Field\n                  name=\"標題\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['標題'] }\"\n                  id=\"title\"\n                  placeholder=\"請輸入標題\"\n                  v-model=\"product.title\"\n                  rules=\"required\"\n                ></Field>\n                <ErrorMessage name=\"標題\" class=\"inputNote\"></ErrorMessage>\n              </div>\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-3\">\n                  <label for=\"category\" class=\"form-label inputTitle\">\n                    <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                    類別\n                  </label>\n                  <select\n                    name=\"類別\"\n                    :class=\"{ 'is-invalid': errors['類別'] }\"\n                    v-model=\"product.category\"\n                    id=\"category\"\n                    class=\"form-select\"\n                  >\n                    <option selected value=\"派對蛋糕\">派對蛋糕</option>\n                    <option value=\"小蛋糕\">小蛋糕</option>\n                    <option value=\"鬆餅\">鬆餅</option>\n                    <option value=\"麵包\">麵包</option>\n                    <option value=\"其他甜品\">其他甜品</option>\n                    <option value=\"各式飲品\">各式飲品</option>\n                  </select>\n                </div>\n                <div class=\"mb-3 col-md-3\">\n                  <label for=\"price\" class=\"form-label inputTitle\">\n                    <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                    單位\n                  </label>\n                  <Field\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    placeholder=\"請輸入單位\"\n                    v-model=\"product.unit\"\n                    name=\"單位\"\n                    rules=\"required\"\n                    :class=\"{ 'is-invalid': errors['單位'] }\"\n                  ></Field>\n                  <ErrorMessage name=\"單位\" class=\"inputNote\"></ErrorMessage>\n                </div>\n                <div class=\"mb-3 col-md-3\">\n                  <label for=\"origin_price\" class=\"form-label inputTitle\">\n                    <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                    原價\n                  </label>\n                  <Field\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    placeholder=\"請輸入原價\"\n                    v-model=\"product.origin_price\"\n                    name=\"原價\"\n                    rules=\"required|min_value:1\"\n                    :class=\"{ 'is-invalid': errors['原價'] }\"\n                  ></Field>\n                  <ErrorMessage name=\"原價\" class=\"inputNote\"></ErrorMessage>\n                </div>\n                <div class=\"mb-3 col-md-3\">\n                  <label for=\"price\" class=\"form-label inputTitle\">\n                    <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                    售價\n                  </label>\n                  <Field\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    placeholder=\"請輸入售價\"\n                    v-model=\"product.price\"\n                    name=\"售價\"\n                    rules=\"required|min_value:1\"\n                    :class=\"{ 'is-invalid': errors['售價'] }\"\n                  ></Field>\n                  <ErrorMessage name=\"售價\" class=\"inputNote\"></ErrorMessage>\n                </div>\n              </div>\n              <hr />\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label inputTitle\">\n                  <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                  甜品描述\n                </label>\n                <Field\n                  as=\"textarea\"\n                  rows=\"6\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"請輸入甜品描述\"\n                  v-model=\"product.description\"\n                  name=\"甜品描述\"\n                  rules=\"required|max:200\"\n                  :class=\"{ 'is-invalid': errors['甜品描述'] }\"\n                ></Field>\n                <ErrorMessage name=\"甜品描述\" class=\"inputNote\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label inputTitle\">\n                  <font-awesome-icon icon=\"fa-solid fa-stroopwafel\" />\n                  甜品資訊\n                </label>\n                <Field\n                  as=\"textarea\"\n                  rows=\"6\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  placeholder=\"請輸入甜品資訊\"\n                  v-model=\"product.content\"\n                  name=\"甜品資訊\"\n                  rules=\"required|max:500\"\n                  :class=\"{ 'is-invalid': errors['甜品資訊'] }\"\n                ></Field>\n                <ErrorMessage name=\"甜品資訊\" class=\"inputNote\"></ErrorMessage>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check form-switch\">\n                  <label\n                    class=\"form-check-label\"\n                    for=\"flexSwitchCheckDefault\"\n                    v-if=\"pdt.is_enabled == 1\"\n                  >\n                    上架中\n                  </label>\n                  <label\n                    class=\"form-check-label\"\n                    for=\"flexSwitchCheckDefault\"\n                    v-else\n                  >\n                    未上架\n                  </label>\n                  <input\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    role=\"switch\"\n                    id=\"flexSwitchCheckDefault\"\n                    v-model=\"product.is_enabled\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button class=\"btn btn-primary\">\n            確認送出\n          </button>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modal from '@/mixins/bsmodal';\n\nexport default {\n  inject: ['emitter'],\n  data() {\n    return {\n      product: {\n        category: '小蛋糕',\n      },\n      imgsInput: '',\n      imgsError: false,\n    };\n  },\n  mixins: [modal],\n  props: {\n    pdt: {\n      type: Object,\n      defalut() {\n        return {};\n      },\n    },\n  },\n  methods: {\n    submit() {\n      const item = {\n        ...this.product,\n        origin_price: Number(this.product.origin_price),\n        price: Number(this.product.price),\n      };\n      this.$emit('update', item);\n    },\n    imageUpload(ref, domId) {\n      const file = this.$refs[ref].files[0];\n      const formdata = new FormData();\n      formdata.append('file-to-upload', file);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http\n        .post(api, formdata)\n        .then((res) => {\n          if (res.data.success) {\n            if (ref === 'imgUpload') {\n              this.product.imageUrl = res.data.imageUrl;\n            } else {\n              this.pushImg(res.data.imageUrl);\n            }\n            document.getElementById(domId).value = '';\n          } else {\n            this.emitter.emit('pushMessage', {\n              style: 'fail',\n              content: res.data.message,\n              icon: '',\n            });\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err);\n          this.isLoading = false;\n        });\n    },\n    deleteImgs(index) {\n      this.product.imagesUrl.splice(index, 1);\n      if (this.product.imagesUrl.length < 10) {\n        this.imgsError = false;\n      }\n    },\n    pushImg(img) {\n      const imageArry = [...this.product.imagesUrl];\n      if (this.product.imagesUrl.length === 10) {\n        this.imgsError = true;\n      } else {\n        imageArry.push(img);\n        this.product.imagesUrl = imageArry;\n      }\n      this.imgsInput = '';\n    },\n  },\n  watch: {\n    pdt() {\n      this.product = this.pdt;\n      // 判斷資料中有無imagesUrl;沒有則建立imagesUrl空物件\n      if (!this.product.imagesUrl) {\n        this.product.imagesUrl = [];\n      }\n      this.imgsError = false;\n      if (this.product.imagesUrl && this.product.imagesUrl.length === 10) {\n        this.imgsError = true;\n      }\n      if (!this.product.category) {\n        this.product.category = '派對蛋糕';\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Modal.vue?vue&type=template&id=22844992\"\nimport script from \"./Modal.vue?vue&type=script&lang=js\"\nexport * from \"./Modal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\homework\\\\sweet\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=1b7cac6e\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\homework\\\\sweet\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}